{% extends 'base/base.html' %}
{% load static %}
{% block head %}
<link href="{% static 'css/bootstrap.css' %}" rel="stylesheet">
<link href="{% static 'css/home.css' %}" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
<script>
    $(function() {
		var price_list =[
            '된장','카누',
            '아이스크림','신라면',
            '진라면','계란 30구',
            '[동서식품]맥심 모카골드 믹스'
        ]
		$("#value").autocomplete({  
			source : price_list,	
			select : function(event, ui) {	
				console.log(ui.item);
			},
			focus : function(event, ui) {
				return false;
			},
			minLength: 1,
			autoFocus: true,
			classes: {
			    "ui-autocomplete": "highlight"
			},
			delay: 0,
			position: { my : "right top", at: "right bottom" },
			close : function(event){
				console.log(event);
			}
		});
	});
</script>
<style>
    #modal.modal-overlay {
        width: 100%;
        height: 100%;
        position: absolute;
        left: 0;
        top: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.25);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        backdrop-filter: blur(3px);
        -webkit-backdrop-filter: blur(1.5px);
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.18);
        z-index:20;
    }
    #modal .modal-window {
        background: rgba( 69, 139, 197, 0.70 );
        box-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );
        backdrop-filter: blur( 13.5px );
        -webkit-backdrop-filter: blur( 13.5px );
        border-radius: 10px;
        border: 1px solid rgba( 255, 255, 255, 0.18 );
        width: 400px;
        height: 130px;
        position: relative;
        top: -100px;
        padding: 10px;
    }
    #modal .title {
        padding-left: 10px;
        display: flex;
        justify-content:center;
        align-items:center;
        text-shadow: 1px 1px 2px gray;
        color: white;
        
    }
    #modal .title h2 {
        display: flex;

    }
    #modal .close-area {
        display: flex;
        float: right;
        width:100%;
        justify-content:right;
        padding-right: 10px;
        cursor: pointer;
        text-shadow: 1px 1px 2px gray;
        color: white;
    }
    
</style>
{% endblock head %}

{% block contents %}
{% if is_first_login %}
<div id="modal" class="modal-overlay">
    <div class="modal-window">
        <div class="close-area">X</div>
        <div class="title">
            <h2>출석하여 포인트가 충전되었습니다.</h2>
        </div>
    </div>
</div>
<script>
    const closeBtn = modal.querySelector(".close-area")
    closeBtn.addEventListener("click", e => {
        modal.style.display = "none"
        fetch('/modal_check').response(msg => console.log(msg))
    })
</script>
{% endif %}

<div class="banner-inner" id='Nav'>
    <div class ="banner-cover">
        <h1>원하시는 상품의 물가를 확인해보세요</h1>
        <div class="search">
            <input class ='search_input'
                    type="text"
                    id = 'value'
                    placeholder="궁금한 제품을 검색하세요."
                    onfocus="this.placeholder=''" 
                    onKeypress="javascript:if(event.keyCode==13){search()}"
                    spellcheck="false">
            <button class = "search_button" type="button" style = 'background-color:transparent;' onclick='search()'>
                <img class ='search_img' src="https://s3.ap-northeast-2.amazonaws.com/cdn.wecode.co.kr/icon/search.png">
            </button>
        </div>
    </div>
    <div class="round">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
              <div class="carousel-item active">
                <div class = 'itembox'>
                    <div class = 'itemname'>
                        <p>신라면</p>
                    </div>
                    <div class = 'line'></div>
                    
                </div>
              </div>
              <div class="carousel-item">
                <div class = 'itembox'>
                    하이2
                </div>
              </div>
              <div class="carousel-item">
                <div class = 'itembox'>
                    하이3
                </div>
              </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    <hr class='line'>

    {% comment %} <table class='def' >
        <td>
            밥비트입니다.
            밥비트입니다.
            밥비트입니다.
            밥비트입니다.
            밥비트입니다.
            밥비트입니다.
        </td>
    </table> {% endcomment %}
{% endblock contents %}

{% block script_section %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>

<script>
    $(function() {
		var price_list =[
            '신라면','카누',
            '진라면','닭고기',
            '돼지고기(등심)','돼지고기(안심)',
            '소고기','계란 30구',
            '[동서식품]맥심 모카골드 믹스'
        ]
		$("#value").autocomplete({  
			source : price_list,	
			select : function(event, ui) {	
				console.log(ui.item);
			},
			focus : function(event, ui) {
				return false;
			},
			minLength: 1,
			autoFocus: true,
			classes: {
			    "ui-autocomplete": "highlight"
			},
			delay: 0,
			position: { my : "right top", at: "right bottom" },
			close : function(event){
				console.log(event);
			}
		});
	});
</script>
<script>
    function search() {
        var price = document.getElementById('value').value;
        if (price=='진라면'){
            location.href="price/1/";
        }else if (price=='신라면'){
            location.href="price/2/";
        }else if (price=='돼지고기(등심)'){
            location.href="price/3/";
        }else if (price=='돼지고기(안심)'){
            location.href="price/4/";
        }else if (price=='소고기'){
            location.href="price/5/";
        }else if (price=='[동서식품]맥심 모카골드 믹스'){
            location.href="price/6/";
        }else if (price=='카누'){
            location.href="price/7/";
        }else if (price=='닭고기'){
            location.href="price/8/";
        }else if (price=='계란 30구'){
            location.href="price/9/";
        }else {
            alert('다시 입력해주세요!')
            document.getElementById("value").value ='';
        }
    }
</script>
{% endblock script_section %}